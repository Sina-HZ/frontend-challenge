(this["webpackJsonpfrontend-challenge"]=this["webpackJsonpfrontend-challenge"]||[]).push([[5],{166:function(e,t,a){"use strict";a.r(t);var n,r=a(107),l=a(92),s=a(99),i=a(93),c=a(94),o=a(6),d=a(124),u=a.n(d),j=a(105),m=a(165),b=a(119),f=a(120),h=a(95),p=a(3),x=Object(l.a)((function(e){return{button:{boxShadow:"none"}}})),g=function(e){var t=x();return Object(p.jsx)(h.a,Object(j.a)(Object(j.a)({variant:"contained",color:"primary",className:t.button},e),{},{children:e.children}))},O=a(143),v=a(139);!function(e){e.daily="daily",e.weekly="weekly",e.monthly="monthly"}(n||(n={}));var y=["age"],w={name:"",age:"",email:"",newsletter:n.weekly},k=v.a.model("User",{name:v.a.string,age:v.a.string,email:v.a.string,newsletter:v.a.enumeration("newsletter",Object.values(n))}).actions((function(e){return{update:function(t){Object.assign(e,Object(j.a)(Object(j.a)({},e),t))},getUser:function(){var t=e.age,a=Object(O.a)(e,y);return Object(j.a)(Object(j.a)({},a),{},{age:+t})},clear:function(){Object.assign(e,w)}}})).create(w),S=Object(l.a)((function(e){return{main:{height:"100%",display:"flex",flexDirection:"column"}}})),N=Object(b.a)((function(){var e=Object(f.b)({mode:"onSubmit",defaultValues:{name:k.name,age:k.age}}),t=e.control,a=e.handleSubmit,n=S(),r=Object(o.g)(),l={name:{required:{value:!0,message:"\u062a\u06a9\u0645\u06cc\u0644 \u0627\u06cc\u0646 \u0628\u062e\u0634 \u0627\u0644\u0632\u0627\u0645\u06cc \u0627\u0633\u062a"}},age:{required:{value:!0,message:"\u062a\u06a9\u0645\u06cc\u0644 \u0627\u06cc\u0646 \u0628\u062e\u0634 \u0627\u0644\u0632\u0627\u0645\u06cc \u0627\u0633\u062a"},min:{value:18,message:"\u062d\u062f\u0627\u0642\u0644 \u0633\u0646 \u06f1\u06f8 \u0633\u0627\u0644 \u0627\u0633\u062a"},max:{value:99,message:"\u062d\u062f\u0627\u06a9\u062b\u0631 \u0633\u0646 \u06f9\u06f9 \u0633\u0627\u0644 \u0627\u0633\u062a"},pattern:{value:/^[0-9]*$/i,message:"\u0641\u0642\u0637 \u0639\u062f\u062f \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"}}},i=function(e){k.update(e),r.push("/newsletter?step=2",e)};return Object(p.jsx)(s.a,{className:n.main,children:Object(p.jsxs)("form",{onSubmit:a(i),children:[Object(p.jsxs)(s.a,{children:[Object(p.jsx)(f.a,{name:"name",control:t,rules:l.name,defaultValue:"",render:function(e){var t,a=e.field,n=(e.fieldState,e.formState);return Object(p.jsx)(m.a,Object(j.a)({color:"primary",variant:"outlined",size:"small",label:"\u0646\u0627\u0645 \u0648 \u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc",fullWidth:!0,helperText:null===(t=n.errors.name)||void 0===t?void 0:t.message,error:!!n.errors.name,inputRef:a.ref},a))}}),Object(p.jsx)(f.a,{name:"age",control:t,rules:l.age,defaultValue:"",render:function(e){var t,a=e.field,n=(e.fieldState,e.formState);return Object(p.jsx)(m.a,Object(j.a)({color:"primary",variant:"outlined",size:"small",label:"\u0633\u0646",fullWidth:!0,style:{marginTop:16},inputProps:{maxLength:3},helperText:null===(t=n.errors.age)||void 0===t?void 0:t.message,error:!!n.errors.age,inputRef:a.ref},a))}})]}),Object(p.jsx)(s.a,{mt:3,children:Object(p.jsx)(g,{onClick:a(i),type:"submit",children:Object(p.jsx)(c.a,{children:"\u062a\u0627\u06cc\u06cc\u062f \u0648 \u0645\u0631\u062d\u0644\u0647 \u0628\u0639\u062f"})})})]})})})),C=a(113),T=a.n(C),W=a(114),z=a(121),V=a(167),B=a(162),R=a(0);function q(e){return new Promise((function(t){setTimeout((function(){t({user:e,token:"test.token"})}),1e3)}))}var D=Object(l.a)((function(e){return{main:{height:"100%",display:"flex",flexDirection:"column"},alert:{backgroundColor:e.palette.success.light,color:e.palette.success.main,borderRadius:e.spacing(.5),padding:e.spacing(1)},actionFooter:{display:"flex",marginTop:e.spacing(3),justifyContent:"space-between"}}})),F=Object(b.a)((function(){var e=Object(f.b)({mode:"onSubmit",defaultValues:{email:k.email,newsletter:k.newsletter}}),t=e.control,a=e.handleSubmit,r=Object(R.useState)(!1),l=Object(z.a)(r,2),i=l[0],d=l[1],u=Object(R.useState)(!1),b=Object(z.a)(u,2),h=b[0],x=b[1],O=D(),v=Object(o.g)(),y=function(){var e=Object(W.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),k.update(t),e.next=5,q(k.getUser());case 5:a=e.sent,console.log(a),d(!1),x(!0),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),w={email:{required:{value:!0,message:"\u062a\u06a9\u0645\u06cc\u0644 \u0627\u06cc\u0646 \u0628\u062e\u0634 \u0627\u0644\u0632\u0627\u0645\u06cc \u0627\u0633\u062a"},pattern:{value:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:"\u0627\u06cc\u0645\u06cc\u0644 \u0648\u0627\u0631\u062f \u0634\u062f\u0647 \u0635\u062d\u06cc\u062d \u0646\u0645\u06cc \u0628\u0627\u0634\u062f"}},newsletter:{required:{value:!0,message:"\u062a\u06a9\u0645\u06cc\u0644 \u0627\u06cc\u0646 \u0628\u062e\u0634 \u0627\u0644\u0632\u0627\u0645\u06cc \u0627\u0633\u062a"}}};return k.name&&k.age?Object(p.jsx)(s.a,{className:O.main,children:Object(p.jsxs)("form",{onSubmit:a(y),children:[Object(p.jsxs)(s.a,{children:[Object(p.jsx)(f.a,{name:"email",control:t,rules:w.email,defaultValue:"",render:function(e){var t,a=e.field,n=(e.fieldState,e.formState);return Object(p.jsx)(m.a,Object(j.a)({color:"primary",variant:"outlined",size:"small",label:"\u0627\u06cc\u0645\u06cc\u0644",fullWidth:!0,helperText:null===(t=n.errors.email)||void 0===t?void 0:t.message,error:!!n.errors.email,inputRef:a.ref},a))}}),Object(p.jsx)(f.a,{name:"newsletter",control:t,rules:w.newsletter,defaultValue:n.weekly,render:function(e){var t,a=e.field,r=(e.fieldState,e.formState);return Object(p.jsxs)(m.a,Object(j.a)(Object(j.a)({color:"primary",variant:"outlined",size:"small",label:"\u062f\u0648\u0631\u0647 \u0627\u0631\u0633\u0627\u0644",select:!0,fullWidth:!0,style:{marginTop:16},helperText:null===(t=r.errors.newsletter)||void 0===t?void 0:t.message,error:!!r.errors.newsletter,inputRef:a.ref},a),{},{children:[Object(p.jsx)(V.a,{value:n.daily,children:"\u0631\u0648\u0632\u0627\u0646\u0647"}),Object(p.jsx)(V.a,{value:n.weekly,children:"\u0647\u0641\u062a\u06af\u06cc"}),Object(p.jsx)(V.a,{value:n.monthly,children:"\u0645\u0627\u0647\u0627\u0646\u0647"})]}))}})]}),Object(p.jsxs)(s.a,{className:O.actionFooter,children:[Object(p.jsx)(g,{onClick:a(y),type:"submit",disabled:i,children:Object(p.jsx)(c.a,{children:"\u0627\u0631\u0633\u0627\u0644"})}),Object(p.jsx)(g,{variant:"text",onClick:function(){v.goBack()},disabled:i,children:Object(p.jsx)(c.a,{children:"\u0628\u0627\u0632\u06af\u0634\u062a"})}),Object(p.jsx)(B.a,{in:h,children:Object(p.jsx)(s.a,{className:O.alert,children:Object(p.jsx)(c.a,{color:"inherit",variant:"body2",children:"\u062f\u0631\u062e\u0648\u0627\u0633\u062a \u0634\u0645\u0627 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u062b\u0628\u062a \u0634\u062f"})})})]})]})}):Object(p.jsx)(o.a,{to:"/newsletter"})})),I=Object(l.a)((function(e){return{main:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",padding:e.spacing(3)},paper:Object(r.a)({maxWidth:690,overflow:"hidden",height:500,display:"flex"},e.breakpoints.down("xs"),{height:"100%"}),imageSide:Object(r.a)({flex:2,backgroundColor:"#dedede"},e.breakpoints.down("xs"),{display:"none"}),formSide:{padding:e.spacing(3),flex:2.5,display:"flex",flexDirection:"column",justifyContent:"space-evenly"},contentBox:{flex:3},formWraper:{flex:2},lorem:{lineHeight:1.8},steperBox:{display:"flex",justifyContent:"flex-end",padding:e.spacing(1,2),maxWidth:690,width:"100%","& span":{color:e.palette.text.secondary}},bgImg:{width:"100%",height:"100%",display:"block",objectFit:"cover",objectPosition:"top center"}}}));t.default=function(e){var t=Object(o.h)().search,a=u.a.parse(t),n=I(),r=!Object.keys(a).length||"1"===(null===a||void 0===a?void 0:a.step),l=a&&"2"===(null===a||void 0===a?void 0:a.step);return Object(p.jsxs)(s.a,{className:n.main,children:[Object(p.jsxs)(i.a,{elevation:1,className:n.paper,children:[Object(p.jsxs)(s.a,{className:n.formSide,children:[Object(p.jsxs)(s.a,{className:n.contentBox,children:[Object(p.jsx)(c.a,{variant:"h6",children:"\u0639\u0636\u0648\u06cc\u062a \u062f\u0631 \u062e\u0628\u0631\u0646\u0627\u0645\u0647"}),Object(p.jsx)(c.a,{variant:"body2",className:n.lorem,children:"\u0644\u0648\u0631\u0645 \u0627\u06cc\u067e\u0633\u0648\u0645 \u0645\u062a\u0646 \u0633\u0627\u062e\u062a\u06af\u06cc \u0628\u0627 \u062a\u0648\u0644\u06cc\u062f \u0633\u0627\u062f\u06af\u06cc \u0646\u0627\u0645\u0641\u0647\u0648\u0645 \u0627\u0632 \u0635\u0646\u0639\u062a \u0686\u0627\u067e\u060c \u0648 \u0628\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u0637\u0631\u0627\u062d\u0627\u0646 \u06af\u0631\u0627\u0641\u06cc\u06a9 \u0627\u0633\u062a\u060c \u0686\u0627\u067e\u06af\u0631\u0647\u0627 \u0648 \u0645\u062a\u0648\u0646 \u0628\u0644\u06a9\u0647 \u0631\u0648\u0632\u0646\u0627\u0645\u0647 \u0648 \u0645\u062c\u0644\u0647 \u062f\u0631 \u0633\u062a\u0648\u0646 \u0648 \u0633\u0637\u0631\u0622\u0646\u0686\u0646\u0627\u0646 \u06a9\u0647 \u0644\u0627\u0632\u0645 \u0627\u0633\u062a\u060c \u0648 \u0628\u0631\u0627\u06cc \u0634\u0631\u0627\u06cc\u0637 \u0641\u0639\u0644\u06cc \u062a\u06a9\u0646\u0648\u0644\u0648\u0698\u06cc \u0645\u0648\u0631\u062f \u0646\u06cc\u0627\u0632\u060c \u0648 \u06a9\u0627\u0631\u0628\u0631\u062f\u0647\u0627\u06cc \u0645\u062a\u0646\u0648\u0639 \u0628\u0627 \u0647\u062f\u0641 \u0628\u0647\u0628\u0648\u062f \u0627\u0628\u0632\u0627\u0631\u0647\u0627\u06cc \u06a9\u0627\u0631\u0628\u0631\u062f\u06cc \u0645\u06cc \u0628\u0627\u0634\u062f\u060c \u06a9\u062a\u0627\u0628\u0647\u0627\u06cc \u0632\u06cc\u0627\u062f\u06cc \u062f\u0631 \u0634\u0635\u062a \u0648 \u0633\u0647 \u062f\u0631\u0635\u062f \u06af\u0630\u0634\u062a\u0647 \u062d\u0627\u0644 \u0648 \u0622\u06cc\u0646\u062f\u0647\u060c \u0634\u0646\u0627\u062e\u062a \u0641\u0631\u0627\u0648\u0627\u0646 \u062c\u0627\u0645\u0639\u0647 \u0648 \u0645\u062a\u062e\u0635\u0635\u0627\u0646 \u0631\u0627 \u0645\u06cc \u0637\u0644\u0628\u062f\u060c \u062a\u0627 \u0628\u0627 \u0646\u0631\u0645 \u0627\u0641\u0632\u0627\u0631\u0647\u0627 \u0634\u0646\u0627\u062e\u062a \u0628\u06cc\u0634\u062a\u0631\u06cc \u0631\u0627 \u0628\u0631\u0627\u06cc \u0637\u0631\u0627\u062d\u0627\u0646 \u0631\u0627\u06cc\u0627\u0646\u0647 \u0627\u06cc \u0639\u0644\u06cc \u0627\u0644\u062e\u0635\u0648\u0635 \u0637\u0631\u0627\u062d\u0627\u0646 \u062e\u0644\u0627\u0642\u06cc\u060c \u0648 \u0641\u0631\u0647\u0646\u06af \u067e\u06cc\u0634\u0631\u0648 \u062f\u0631 \u0632\u0628\u0627\u0646 \u0641\u0627\u0631\u0633\u06cc \u0627\u06cc\u062c\u0627\u062f \u06a9\u0631\u062f."})]}),Object(p.jsxs)(s.a,{className:n.formWraper,children:[r&&Object(p.jsx)(N,{}),l&&Object(p.jsx)(F,{})]})]}),Object(p.jsx)(s.a,{className:n.imageSide,children:Object(p.jsx)("img",{src:"/frontend-challenge/assets/images/bg-newsletter.jpg",alt:"form bg",className:n.bgImg})})]}),Object(p.jsx)(s.a,{className:n.steperBox,children:Object(p.jsx)(c.a,{variant:"caption",children:"\u0635\u0641\u062d\u0647 ".concat(r?"1":"2"," \u0627\u0632 ").concat("2")})})]})}}}]);
//# sourceMappingURL=5.34f467c4.chunk.js.map